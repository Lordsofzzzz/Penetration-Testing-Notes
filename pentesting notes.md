### 🛡️ **1. Introduction to Penetration Testing with Kali Linux (PWK)**

**Purpose of the Course:**  
- Designed for **System and Network Administrators** and **Security Professionals** entering **penetration testing**.  
- Focuses on replicating real-world attacks to understand, identify, and mitigate vulnerabilities.  
- Provides hands-on practice to build confidence in handling live systems and resolving security issues.  

**Learning Structure:**  
- **Learning Modules** – Teach specific penetration testing techniques and concepts.  
- **Challenge Labs** – Apply learned techniques in real-world scenarios.  
- **Practical Exercises** – Test and reinforce skills with guided examples.  
- **Capstone Projects** – Combine multiple skills in a comprehensive penetration testing scenario.  

---

### 📊 **3. Penetration Testing Methodology**  

**Phases of Penetration Testing:**  
1. **Information Gathering & Enumeration** – Collect data on targets to identify potential weaknesses.  
2. **Vulnerability Scanning** – Detect and analyze system vulnerabilities.  
3. **Exploitation** – Execute attacks to gain unauthorized access by leveraging identified vulnerabilities.  
4. **Privilege Escalation** – Gain higher-level access to systems to extend control and bypass security restrictions.  
5. **Post-Exploitation** – Maintain access, pivot to other systems, and extract critical data.  
6. **Reporting** – Document findings, demonstrate impact, and provide actionable remediation steps.  

**Ethical Considerations:**  
- Always obtain proper authorization before performing penetration testing.  
- Follow legal and ethical guidelines to ensure responsible testing.  

---

### 🔎 **4. Enumeration and Information Gathering**  

**Passive Information Gathering:**  
- **Whois Enumeration** – Discover domain registration data, including administrative and technical contacts.  
  ```bash
  whois example.com
  ```
- **Google Hacking** – Use advanced search operators to uncover publicly available information and misconfigurations.  
  ```bash
  site:example.com filetype:pdf
  ```
- **Shodan** – Identify internet-connected devices and exposed services.  
  ```bash
  shodan search apache
  ```

**Active Information Gathering:**  
- **DNS Enumeration** – Discover subdomains and DNS records to map the network.  
  ```bash
  dig example.com ANY
  ```
- **Zone Transfer (AXFR):** Attempt a zone transfer to collect DNS zone data.  
  ```bash
  dig axfr @ns1.example.com example.com
  ```
- **Port Scanning (Nmap)** – Identify open ports and running services.  
  ```bash
  nmap -sV -p- target_ip
  ```
- **Aggressive Scan (Nmap):** Perform an aggressive scan for detailed information.  
  ```bash
  nmap -A target_ip
  ```
- **SMB/SMTP/SNMP Enumeration** – Extract data from network protocols.  
  ```bash
  smbclient -L //target_ip
  ```

![Figure 81: Wappalyzer findings](attachment://figure_81_wappalyzer.png)

**Advanced Enumeration Techniques:**  
- **Service Detection:**
  ```bash
  nmap -sV -p 21,22,80,445 target_ip
  ```
- **Banner Grabbing:**
  ```bash
  nc -v target_ip 80
  ```

---

### 🔒 **5. Vulnerability Scanning**

**Types of Vulnerability Scans:**  
- **Unauthenticated Scans** – Identify external vulnerabilities without credentials.  
- **Authenticated Scans** – Perform deeper analysis using valid credentials.  
- **Custom Scans** – Tailor scans to focus on specific attack surfaces or technologies.  

**Tools for Vulnerability Scanning:**  
- **Nessus** – Industry-standard tool for comprehensive scans.  
  ```bash
  sudo /bin/systemctl start nessusd
  ```
- **Nmap NSE Scripts** – Use scripts to detect vulnerabilities.  
  ```bash
  nmap -sV --script=vuln target_ip
  ```
- **Nikto – Web Server Scanner:**  
  ```bash
  nikto -h target_ip
  ```

![Figure 134: Mountain Desserts Web Application](attachment://figure_134_mountain_desserts.png)

**Key Considerations:**  
- Verify scan accuracy by manually checking results.  
- Avoid disrupting production environments during active scans.  
- Document all findings, including false positives and negatives.  

---

### ⚙️ **6. Exploitation**

**Exploitation Techniques:**  
- **Buffer Overflow** – Overwrite memory to execute malicious code.  
- **Command Injection** – Execute OS-level commands through vulnerable inputs.  
- **SQL Injection (SQLi)** – Manipulate database queries for unauthorized access.  
- **Remote Code Execution (RCE)** – Gain direct control by exploiting vulnerabilities.  

**Exploit Tools and Resources:**  
- **Exploit Database (Exploit-DB)** – Public repository of known exploits.  
- **Metasploit Framework** – Automate exploitation and post-exploitation tasks.  

![Figure 136: Failed Upload of simple-backdoor.php](attachment://figure_136_failed_upload.png)

**Advanced Exploitation:**
- **Web Shell Execution:**
  ```bash
  curl -X POST http://target/upload.php -F 'file=@shell.php'
  ```

---

### 🛠️ **7. Privilege Escalation**

**Windows Privilege Escalation:**  
- **Service Binary Hijacking** – Replace service executables with malicious ones.  
- **DLL Hijacking** – Load a malicious DLL through vulnerable processes.  

**Linux Privilege Escalation:**  
- **Sudo Misconfiguration** – Abuse misconfigured sudo privileges.  
- **Setuid Binaries** – Exploit binaries with elevated execution permissions.  

**Commands for Privilege Escalation:**  
- **Check Sudo Permissions:**  
  ```bash
  sudo -l
  ```
- **Privilege Escalation with Metasploit:**  
  ```bash
  meterpreter > getsystem
  ```

---

### 🎯 **8. Post-Exploitation**

**Objectives of Post-Exploitation:**  
- **Maintain Access** – Create backdoors for persistent control.  
- **Exfiltrate Data** – Steal sensitive information.  

**Post-Exploitation Commands:**  
- **Check System Info:**  
  ```bash
  meterpreter > sysinfo
  
